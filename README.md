# Multilingual Conversational Loan Advisor Chatbot

Our **Multilingual Loan Advisor Chatbot** is an AI-powered solution designed to streamline the loan application process and enhance financial literacy. It leverages conversational AI, natural language processing (NLP), and database management to assess loan eligibility, provide step-by-step guidance, and offer real-time financial insights. By integrating with external APIs, the chatbot ensures instant verification for personal, home, and business loans.

## Features

- Conversational AI for loan advisory services.
- Real-time loan eligibility assessment.
- EMI calculator and affordability scrutinizer.
- Integration with **WhatsApp** via **Twilio API** for seamless accessibility.
- **Multilingual support** powered by **Sarvam AI**.
- **Google Gemini API** and **Langchain** for intelligent AI-driven workflows.
- **PostgreSQL** for structured financial data storage.
- **AWS S3 buckets** for enhanced data accessibility.

## Prerequisites

Ensure you have the following installed:

- Python 3.x
- PostgreSQL
- psycopg2 (Python PostgreSQL adapter)
- Twilio API credentials
- Google Gemini API key
- AWS S3 credentials
- ngrok

## Installation

1. **Clone the repository**
   ```sh
   git clone https://github.com/yourusername/multilingual-conversational-loan-advisor-chatbot.git
   cd multilingual-conversational-loan-advisor-chatbot
   ```
2. **Create a virtual environment (optional but recommended)**
   ```sh
   python -m venv venv
   source venv/bin/activate  # On Windows use `venv\Scripts\activate`
   ```
3. **Install dependencies**
   ```sh
   pip install -r requirements.txt
   ```
4. **Set up environment variables** Create a `.env` file and add:
   ```ini
   POSTGRES_HOST=your_host
   POSTGRES_PORT=5432
   POSTGRES_USER=postgres
   POSTGRES_DB=my_database
   TWILIO_ACCOUNT_SID=your_twilio_sid
   TWILIO_AUTH_TOKEN=your_twilio_auth_token
   GOOGLE_GEMINI_API_KEY=your_api_key
   AWS_ACCESS_KEY_ID=your_aws_access_key
   AWS_SECRET_ACCESS_KEY=your_aws_secret_key
   AWS_REGION=your_aws_region
   S3_BUCKET_NAME=your_s3_bucket_name
   ```

## Database Setup

### Create the Table

Run the following SQL command in your PostgreSQL database:

```sql
CREATE TABLE loan_records (
    loan_id SERIAL PRIMARY KEY,
    no_of_dependents INTEGER,
    bank_asset_value BIGINT,
    luxury_assets_value BIGINT,
    expenses BIGINT,
    income_annum BIGINT,
    loan_amount BIGINT,
    loan_term INTEGER,
    cibil_score INTEGER,
    residential_assets_value BIGINT,
    commercial_assets_value BIGINT,
    education TEXT,
    self_employed TEXT,
    loan_status TEXT
);
```

### Load CSV Data (Optional)

A sample dataset (`loan_approval_dataset.csv`) is provided for testing. Load it into PostgreSQL using:

```sql
COPY loan_records (no_of_dependents, bank_asset_value, luxury_assets_value, expenses, income_annum, loan_amount, loan_term, cibil_score, residential_assets_value, commercial_assets_value, education, self_employed, loan_status)
FROM 'loan_approval_dataset.csv' DELIMITER ',' CSV HEADER;
```

Ensure the file is correctly placed in the working directory or adjust the file path accordingly.

## Usage

1. **Start ngrok** to expose the local Flask server:

   ```sh
   ngrok http 5000
   ```

   - Copy the public URL generated by ngrok.
   - Use this URL in your Twilio webhook settings.

2. **Run the chatbot service**:

   ```sh
   python app.py
   ```

## Code Structure

```
multilingual-conversational-loan-advisor-chatbot/
│-- app.py         # Main script for chatbot interactions
│-- test_sarvam_api.py # Handles Sarvam API interactions (speech-to-text, text translation, etc.)
│-- gemini_chatbot.py  # Contains Google Gemini API prompts and logic handling
│-- db_connector.py        # Database connection logic
│-- requirements.txt   # Python dependencies
│-- .env               # Environment variables (ignored in Git)
│-- loan_approval_dataset.csv # Sample dataset for testing
│-- README.md          # Project documentation
```


## Troubleshooting

- If you get a **column does not exist** error, check the column names in your database:
  ```sql
  SELECT column_name FROM information_schema.columns WHERE table_name = 'loan_records';
  ```
- If PostgreSQL connection fails, verify your **.env** file and database credentials.
- If AWS S3 integration fails, check your **AWS credentials** and **bucket permissions**.

## Acknowledgment

This project was successfully developed and completed during the **Great Bengaluru Hackathon 2025**.

### Contributors:
- [@Niharika-Saha](https://github.com/Niharika-Saha) 
- [@nehanpnair](https://github.com/nehanpnair)
- [@nupur1735](https://github.com/nupur1735)
- [@Niharika-Paul](https://github.com/Niharika-Paul)

